#==============================================================================
# IAU
#==============================================================================

[namelist:iau]
compulsory=true
description=Setup the IAU option cases
help=This namelist is for the options related to the
    = Incremental Analysis Update (IAU)
ns=namelist/Science/IAU
sort-key=Z

[namelist:iau=iau_ainc_multifile]
compulsory=true
description=Enable 4D-IAU
help=This enables application of different sets of analysis
    = increments over different parts of the IAU time window,
    = known as 4D-IAU
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
trigger=namelist:iau_ainc_io=filename: .true.;
       =namelist:iau_ainc_io=start_time: .true.;
type=logical

[namelist:iau=iau_mode]
compulsory=true
description=whether IAU needs to act instantaneously or over window
!enumeration=true
!kind=default
sort-key=Panel-A07
trigger=namelist:iau=iau_ts_start: 'time_window';
       =namelist:iau=iau_use_pertinc: 'time_window';
       =namelist:iau=iau_window_length: 'time_window';
values='instantaneous', 'time_window'

[namelist:iau=iau_pc2]
compulsory=true
description=Enable PC2 assimilation in IAU
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_tendency_addinf]
compulsory=true
description=Enable additive inflation as tendencies
help=This enables additive inflation increments in the form
    = of tendencies (units: quantity per second, e.g.Ks^-1) as
    = opposed to standard increments (units: quantity, e.g.K)
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_tendency_ainc]
compulsory=true
description=Enable analysis increments as tendencies
help=This enables analysis increments in the form
    = of tendencies (units: quantity per second, e.g.Ks^-1) as
    = opposed to standard increments (units: quantity, e.g.K)
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_tendency_bcorr]
compulsory=true
description=Enable bias correction as tendencies
help=This enables bias correction increments in the form
    = of tendencies (units: quantity per second, e.g.Ks^-1) as
    = opposed to standard increments (units: quantity, e.g.K)
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_tendency_pertinc]
compulsory=true
description=Enable perturbation increments as tendencies
help=This enables perturbation increments in the form
    = of tendencies (units: quantity per second, e.g.Ks^-1) as
    = opposed to standard increments (units: quantity, e.g.K)
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_ts_start]
compulsory=true
description=Timestep that IAU should start
fail-if=this < 1 ;
!kind=default
sort-key=Panel-A07
type=integer

[namelist:iau=iau_use_addinf]
compulsory=true
description=Enable use of additive inflation in IAU
help=If enabled, additive inflation from the ensemble DA is added to the
    = model prognostic state throughout the model run
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
trigger=namelist:files=iau_addinf_path: .true.;
       =namelist:iau=iau_tendency_addinf: .true.;
       =namelist:iau_addinf_io=filename: .true.;
       =namelist:iau_addinf_io=start_time: .true.;
type=logical

[namelist:iau=iau_use_bcorr]
compulsory=true
description=Enable use of bias correction in IAU
help=If enabled, bias correction from the ensemble DA is added to the
    = model prognostic state throughout the model run
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
trigger=namelist:files=iau_bcorr_path: .true.;
       =namelist:iau=iau_tendency_bcorr: .true.;
       =namelist:iau_bcorr_io=filename: .true.;
       =namelist:iau_bcorr_io=start_time: .true.;
type=logical

[namelist:iau=iau_use_level_one_temp]
compulsory=true
description=Enable use of level1 temperature increments to update
           = surface temperatures
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_use_pertinc]
compulsory=true
description=Enable use of perturbation increments in IAU
help=If enabled, analysis increments from the perturbation members of
    = the control-pert ensemble DA are added to the model prognostic
    = state throughout the IAU time window
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
trigger=namelist:files=iau_pert_path: .true.;
       =namelist:iau=iau_tendency_pertinc: .true.;
type=logical

[namelist:iau=iau_wet_density]
compulsory=true
description=Enable density increments in form of wet density*r^2
!kind=default
ns=namelist/Science/IAU
sort-key=Panel-A07
type=logical

[namelist:iau=iau_window_length]
compulsory=true
description=Length of time in seconds IAU needs to act over
fail-if=this < 0 ;
!kind=default
sort-key=Panel-A07
type=integer
